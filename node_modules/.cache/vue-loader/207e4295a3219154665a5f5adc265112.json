{"remainingRequest":"/Users/circle/Desktop/vue-music/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/circle/Desktop/vue-music/src/components/singer-detail/singer-detail.vue?vue&type=style&index=0&id=28c15856&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&","dependencies":[{"path":"/Users/circle/Desktop/vue-music/src/components/singer-detail/singer-detail.vue","mtime":1574170630926},{"path":"/Users/circle/Desktop/vue-music/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/circle/Desktop/vue-music/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/circle/Desktop/vue-music/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/circle/Desktop/vue-music/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Users/circle/Desktop/vue-music/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/circle/Desktop/vue-music/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.slide-enter-active, .slide-leave-active\n  transition: all 0.3s\n\n.slide-enter, .slide-leave-to\n  transform: translate3d(100%, 0, 0)\n",{"version":3,"sources":["singer-detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;;AAEA;AACA","file":"singer-detail.vue","sourceRoot":"src/components/singer-detail","sourcesContent":["<template>\n  <transition appear name=\"slide\">\n    <music-list :title=\"title\" :bg-image=\"bgImage\" :songs=\"songs\"></music-list>\n  </transition>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import MusicList from 'components/music-list/music-list'\n  import { getSingerDetail } from 'api/singer'\n  import { ERR_OK } from 'api/config'\n  import { createSong, isValidMusic, processSongsUrl } from 'common/js/song'\n  import { mapGetters } from 'vuex'\n\n  export default {\n    computed: {\n      title () {\n        return this.singer.name\n      },\n      bgImage () {\n        return this.singer.avatar\n      },\n      ...mapGetters([\n        'singer'\n      ])\n    },\n    data () {\n      return {\n        songs: []\n      }\n    },\n    created () {\n      this._getDetail()\n    },\n    methods: {\n      _getDetail () {\n        if (!this.singer.id) {\n          this.$router.push('/singer')\n          return\n        }\n        getSingerDetail(this.singer.id).then((res) => {\n          if (res.code === ERR_OK) {\n            processSongsUrl(this._normalizeSongs(res.data.list)).then((songs) => {\n              this.songs = songs\n            })\n          }\n        })\n      },\n      _normalizeSongs (list) {\n        let ret = []\n        list.forEach((item) => {\n          let { musicData } = item\n          if (isValidMusic(musicData)) {\n            ret.push(createSong(musicData))\n          }\n        })\n        return ret\n      }\n    },\n    components: {\n      MusicList\n    }\n  }\n</script>\n\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n  .slide-enter-active, .slide-leave-active\n    transition: all 0.3s\n\n  .slide-enter, .slide-leave-to\n    transform: translate3d(100%, 0, 0)\n</style>\n"]}]}