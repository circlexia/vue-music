{"remainingRequest":"/Users/circle/Desktop/vue-music/node_modules/babel-loader/lib/index.js!/Users/circle/Desktop/vue-music/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/circle/Desktop/vue-music/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/circle/Desktop/vue-music/src/components/top-list/top-list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/circle/Desktop/vue-music/src/components/top-list/top-list.vue","mtime":1574170630927},{"path":"/Users/circle/Desktop/vue-music/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/circle/Desktop/vue-music/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/circle/Desktop/vue-music/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/circle/Desktop/vue-music/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport _objectSpread from \"/Users/circle/Desktop/vue-music/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\nimport MusicList from 'components/music-list/music-list';\nimport { getMusicList } from 'api/rank';\nimport { ERR_OK } from 'api/config';\nimport { mapGetters } from 'vuex';\nimport { createSong, isValidMusic, processSongsUrl } from 'common/js/song';\nexport default {\n  computed: _objectSpread({\n    title: function title() {\n      return this.topList.topTitle;\n    },\n    bgImage: function bgImage() {\n      if (this.songs.length) {\n        return this.songs[0].image;\n      }\n\n      return '';\n    }\n  }, mapGetters(['topList'])),\n  data: function data() {\n    return {\n      songs: [],\n      rank: true\n    };\n  },\n  created: function created() {\n    this._getMusicList();\n  },\n  methods: {\n    _getMusicList: function _getMusicList() {\n      var _this = this;\n\n      if (!this.topList.id) {\n        this.$router.push('/rank');\n        return;\n      }\n\n      getMusicList(this.topList.id).then(function (res) {\n        if (res.code === ERR_OK) {\n          processSongsUrl(_this._normalizeSongs(res.songlist)).then(function (songs) {\n            _this.songs = songs;\n          });\n        }\n      });\n    },\n    _normalizeSongs: function _normalizeSongs(list) {\n      var ret = [];\n      list.forEach(function (item) {\n        var musicData = item.data;\n\n        if (isValidMusic(musicData)) {\n          ret.push(createSong(musicData));\n        }\n      });\n      return ret;\n    }\n  },\n  components: {\n    MusicList: MusicList\n  }\n};",{"version":3,"sources":["top-list.vue"],"names":[],"mappings":";;;;;;;;AAOA,OAAA,SAAA,MAAA,kCAAA;AACA,SAAA,YAAA,QAAA,UAAA;AACA,SAAA,MAAA,QAAA,YAAA;AACA,SAAA,UAAA,QAAA,MAAA;AACA,SAAA,UAAA,EAAA,YAAA,EAAA,eAAA,QAAA,gBAAA;AAEA,eAAA;AACA,EAAA,QAAA;AACA,IAAA,KADA,mBACA;AACA,aAAA,KAAA,OAAA,CAAA,QAAA;AACA,KAHA;AAIA,IAAA,OAJA,qBAIA;AACA,UAAA,KAAA,KAAA,CAAA,MAAA,EAAA;AACA,eAAA,KAAA,KAAA,CAAA,CAAA,EAAA,KAAA;AACA;;AACA,aAAA,EAAA;AACA;AATA,KAUA,UAAA,CAAA,CACA,SADA,CAAA,CAVA,CADA;AAeA,EAAA,IAfA,kBAeA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA;AAFA,KAAA;AAIA,GApBA;AAqBA,EAAA,OArBA,qBAqBA;AACA,SAAA,aAAA;AACA,GAvBA;AAwBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AAAA;;AACA,UAAA,CAAA,KAAA,OAAA,CAAA,EAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA;AACA;;AACA,MAAA,YAAA,CAAA,KAAA,OAAA,CAAA,EAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,KAAA,MAAA,EAAA;AACA,UAAA,eAAA,CAAA,KAAA,CAAA,eAAA,CAAA,GAAA,CAAA,QAAA,CAAA,CAAA,CAAA,IAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,CAAA,KAAA,GAAA,KAAA;AACA,WAFA;AAGA;AACA,OANA;AAOA,KAbA;AAcA,IAAA,eAdA,2BAcA,IAdA,EAcA;AACA,UAAA,GAAA,GAAA,EAAA;AACA,MAAA,IAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,SAAA,GAAA,IAAA,CAAA,IAAA;;AACA,YAAA,YAAA,CAAA,SAAA,CAAA,EAAA;AACA,UAAA,GAAA,CAAA,IAAA,CAAA,UAAA,CAAA,SAAA,CAAA;AACA;AACA,OALA;AAMA,aAAA,GAAA;AACA;AAvBA,GAxBA;AAiDA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA;AADA;AAjDA,CAAA","sourcesContent":["<template>\n  <transition appear name=\"slide\">\n    <music-list :rank=\"rank\" :title=\"title\" :bg-image=\"bgImage\" :songs=\"songs\"></music-list>\n  </transition>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import MusicList from 'components/music-list/music-list'\n  import { getMusicList } from 'api/rank'\n  import { ERR_OK } from 'api/config'\n  import { mapGetters } from 'vuex'\n  import { createSong, isValidMusic, processSongsUrl } from 'common/js/song'\n\n  export default {\n    computed: {\n      title () {\n        return this.topList.topTitle\n      },\n      bgImage () {\n        if (this.songs.length) {\n          return this.songs[0].image\n        }\n        return ''\n      },\n      ...mapGetters([\n        'topList'\n      ])\n    },\n    data () {\n      return {\n        songs: [],\n        rank: true\n      }\n    },\n    created () {\n      this._getMusicList()\n    },\n    methods: {\n      _getMusicList () {\n        if (!this.topList.id) {\n          this.$router.push('/rank')\n          return\n        }\n        getMusicList(this.topList.id).then((res) => {\n          if (res.code === ERR_OK) {\n            processSongsUrl(this._normalizeSongs(res.songlist)).then((songs) => {\n              this.songs = songs\n            })\n          }\n        })\n      },\n      _normalizeSongs (list) {\n        let ret = []\n        list.forEach((item) => {\n          const musicData = item.data\n          if (isValidMusic(musicData)) {\n            ret.push(createSong(musicData))\n          }\n        })\n        return ret\n      }\n    },\n    components: {\n      MusicList\n    }\n  }\n</script>\n\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n  .slide-enter-active, .slide-leave-active\n    transition: all 0.3s ease\n\n  .slide-enter, .slide-leave-to\n    transform: translate3d(100%, 0, 0)\n</style>\n"],"sourceRoot":"src/components/top-list"}]}